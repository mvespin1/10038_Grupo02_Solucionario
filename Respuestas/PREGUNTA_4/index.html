<!doctype html>
<html lang="es">

<head>
	<meta charset="utf-8">
	<title>LABORATORIO</title>
	<style type="text/css">
		#background {
			position: absolute;
			width: 99%;
			height: 130%;
		}

		#fixed {
			position: absolute;
			top: 0px;
			left: 0px;
		}
	</style>
</head>

<body>
	<div>
		<img id="background" src="../../Imagenes/fondo.jpg" />
	</div>
	<div id="fixed" style="padding-left:30%; padding-top: 10%;">
		<br>
		<img src="../../Imagenes/selloespe.jpg" width="65%" align="center">
		<h1 style="padding-left:25%;">Pregunta 4</h1>
		<p>4) Mostrar datos XML en una tabla utilizando AJAX.</p>
		<div class="section" id="enunciado" style="padding-left:25%;margin-top: 5%;">
			<button style="align-self: center;" type="button" onclick="loadXMLDoc()">Obtener tabla</button><br><br>
			<center><table border="1" id="demo"></table></center>
		</div>
		<div class="section" id="resolucion" style="margin-top: 5%;">
		</div>
		<div class="section" style="margin-top: 5%;">
		</div>
		<br>
		<button onclick="window.location.href='../../index.html'">Menu principal</button>
	</div>

	<script>
		function loadXMLDoc() {
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange = function () {
				if (this.readyState == 4 && this.status == 200) {
					myFunction(this);
				}
			};
			xmlhttp.open("GET", "xml/tabla.xml", true);
			xmlhttp.send();
		}
		function myFunction(xml) {
			var i;
			var xmlDoc = xml.responseXML;
			var table = "<tr><th>TITULO</th><th>PLATAFORMA</th><th>GENERO</th></tr>";
			var tvideojuegos = xmlDoc.getElementsByTagName("videojuego");
			
			for (i = 0; i < tvideojuegos.length; i++) {
				table += "<tr><td>" +
					tvideojuegos[i].getElementsByTagName("titulo")[0].childNodes[0].nodeValue +
					"</td><td>" +
					tvideojuegos[i].getElementsByTagName("plataforma")[0].childNodes[0].nodeValue +
					"</td><td>" +
					tvideojuegos[i].getElementsByTagName("genero")[0].childNodes[0].nodeValue +
					"</td></tr>";
			}
			
			document.getElementById("demo").innerHTML = table;
		}
	</script>




</body>

</html>